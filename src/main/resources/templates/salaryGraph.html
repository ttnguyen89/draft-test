<!DOCTYPE HTML>
<html>
<head>
<title>Salary Distribution</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src="/webjars/jquery/3.1.1/jquery.min.js"></script>
<script src="/webjars/bootstrap/3.3.7-1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
<script src="../static/graph.js"></script>
<link rel="stylesheet"
	href="/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css" />
</head>
<body>
	<div class="container">
		<h1>Salary Distribution</h1>
		<script th:inline="javascript">
		/*<![CDATA[*/
		
		    var graph = /*[[${salaryGraph}]]*/ '';
		    var backgroundColor= [
		        'rgba(255, 99, 132, 0.2)',
		        'rgba(54, 162, 235, 0.2)',
		        'rgba(255, 206, 86, 0.2)',
		        'rgba(75, 192, 192, 0.2)',
		        'rgba(153, 102, 255, 0.2)',
		        'rgba(255, 159, 64, 0.2)',
		        'rgba(120, 75, 100, 0.2)',
		        'rgba(153, 192, 86, 0.2)',
		        'rgba(54, 162, 235, 0.2)',
		        'rgba(100, 112, 60, 0.2)'
		    ];
		    var datasets = [];
		    var labels = [];
		    for(var i = 0; i < graph.length; i++) {
				var element = graph[i];
				var data = {};
				data.data = [];
				element.forEach(function(value){
					data.data.push(value.salary);
				});
				var label = 'From ' + element[0].salary + ' to ' + element[element.length-1].salary;
				data.backgroundColor = [backgroundColor[i]];
				data.label = label;
				data.borderColor = ['rgba(255,99,132,1)'];
				data.borderWidth = 1;
				datasets.push(data);
		    }    
		    
		    $(document).ready(function() { 
		    	var ctx = document.getElementById("myChart").getContext('2d');
		    	var myChart = new Chart(ctx, {
		    		type:'bar',
		    		data: {
		    			datasets: datasets
		    		}
		    	});
		    });
		/*]]>*/
		
		</script>
		<canvas id="myChart" width="1140" height="400"></canvas>
	</div>
</body>
</html>